/*
 * Global Theme Variables
 */
:root {
    --bg-start: #1f2327;
    --bg-end: #2a2f35;
    --text-main: #e6e8eb;
    --text-muted: #b5bac1;
    --accent: #4da3ff;
    --accent-warm: #ffd666;
    /* Cards and UI accents */
    --card-bg: #2f3540;
    --card-bg-hover: #343b47;
    --card-grad-start: #2f3540;
    --card-grad-end: #3a4250;
    --success: #34c759;
    --info: #17a2b8;
}

/*
 * Global Background & Typography
 */
html, body { min-height: 100%; }
/* Increase specificity and use !important to override vendor defaults */
body, body.bg-light, body[class] {
    color: var(--text-main) !important;
    background-color: var(--bg-start) !important;
}
/* Layered gradient background applied via a fixed pseudo-element */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    background-image:
        radial-gradient(1200px 600px at 10% 0%, rgba(77,163,255,0.12), transparent 60%),
        radial-gradient(1000px 500px at 90% 10%, rgba(255,214,102,0.10), transparent 60%),
        linear-gradient(135deg, var(--bg-start), var(--bg-end));
    background-attachment: fixed;
    background-repeat: no-repeat;
    background-size: cover;
}

a { color: var(--accent); }
a:hover { color: #3b8be6; }
.text-muted { color: var(--text-muted) !important; }

/*
 * Reusable component styles
 */
.card-dark {
    background: linear-gradient(160deg, var(--card-grad-start), var(--card-grad-end));
    color: var(--text-main);
    border: 2px solid rgba(255,255,255,.06);
    border-radius: 25px;
    padding: 30px;
}
/* larger rounded radius utility */
.rounded-xl { border-radius: 28px !important; }
.feature-icon {
    font-size: 2.25rem;
    color: var(--accent);
    margin-bottom: .5rem;
    transition: transform .2s ease, color .2s ease;
}
.feature-card {
    background: linear-gradient(160deg, var(--card-bg), var(--card-bg-hover));
    border: 1px solid rgba(255,255,255,.06);
    box-shadow: 0 6px 18px rgba(0,0,0,.25);
    transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
}
.feature-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 24px rgba(0,0,0,.35);
    background: var(--card-bg-hover);
}

.btn-theme { background: var(--accent); color: #fff; border: none; }
.btn-theme:hover { background: #3b8be6; color: #fff; }
.btn-theme-success { background: var(--success); color: #0c1f11; border: none; }
.btn-theme-success:hover { filter: brightness(0.95); color:#0c1f11; }
.btn-theme-info { background: var(--info); color: #08191d; border: none; }
.btn-theme-info:hover { filter: brightness(0.95); color:#08191d; }

.lead a { color: var(--accent-warm); text-decoration: underline; }
.lead a:hover { opacity: .9; }

.display-title { font-weight: 800; font-size: clamp(2rem, 6vw, 3.25rem); }
.welcome-animate { animation: fadeInDown 1.0s; }
@keyframes fadeInDown { from { opacity:0; transform: translateY(-20px);} to {opacity:1; transform:none;} }

/*
 * Forms - dark theme
 */
label, .form-label, .form-check-label { color: var(--text-main); opacity: 0.9; }
.form-control, .custom-select, .form-select, select.form-control {
    background-color: #2b3138;
    color: var(--text-main);
    border-color: rgba(255,255,255,.15);
}
.form-control:focus, .custom-select:focus, .form-select:focus, select.form-control:focus {
    background-color: #2f3540;
    color: var(--text-main);
    border-color: var(--accent);
    box-shadow: 0 0 0 .2rem rgba(77,163,255,.15);
}
input::placeholder, textarea::placeholder { color: var(--text-muted); opacity: 0.8; }
.input-group-text { background-color: #3a4250; color: var(--text-main); border-color: rgba(255,255,255,.15); }

/*
 * Cards - default to dark style for consistency
 */
.card {
    background: linear-gradient(160deg, var(--card-bg), var(--card-bg-hover));
    color: var(--text-main);
    border: 1px solid rgba(255,255,255,.08);
}
.card-header { background: rgba(255,255,255,.03); color: var(--text-main); border-bottom: 1px solid rgba(255,255,255,.08); }
.card-title { color: var(--text-main); }

/*
 * Tables - readable on dark background
 */
.table { color: var(--text-main); }
.table thead th { color: var(--text-main); background: rgba(255,255,255,.06); border-color: rgba(255,255,255,.12); }
.table tbody td { border-color: rgba(255,255,255,.06); }
.table-striped tbody tr:nth-of-type(odd) { background: rgba(255,255,255,.03); }
.table-hover tbody tr:hover { background: rgba(255,255,255,.06); }

/* Softer separators for specific tables */
.table-soft { border: 1px solid rgba(255,255,255,.10); }
.table-soft thead th { border-bottom-width: 1px; }
.table-soft tbody td { border-top: 1px solid rgba(255,255,255,.05); }

/*
 * Footer Styles
 */
.navbar {
    z-index: 1000;
}
.footer {
    position: static; /* not fixed: allow natural flow */
    width: 100%;
    background-color: #000;
    color: #fff;
    text-align: center;
}
.base-content {
    padding-top: 5em;
    padding-bottom: 5em;
}

/*
 * Alerts - dark theme friendly
 */
.alert { border: 1px solid rgba(255,255,255,.12); color: var(--text-main); }
.alert-info {
    background: rgba(77,163,255,.18);
    border-color: rgba(77,163,255,.35);
    color: var(--text-main);
}
.alert-success { background: rgba(52,199,89,.18); border-color: rgba(52,199,89,.35); }
.alert-warning { background: rgba(255,214,102,.18); border-color: rgba(255,214,102,.35); color: #1b1b1b; }
.alert-danger { background: rgba(220, 53, 69, .18); border-color: rgba(220, 53, 69, .35); }

/*
 * Dropdown menu - dark theme
 */
.dropdown-menu {
    background-color: var(--card-bg) !important;
    color: var(--text-main) !important;
    border: 1px solid rgba(255,255,255,.12) !important;
}
.dropdown-item { color: var(--text-main) !important; }
.dropdown-item:hover, .dropdown-item:focus {
    background-color: var(--card-bg-hover) !important;
    color: var(--text-main) !important;
}
.dropdown-divider { border-top-color: rgba(255,255,255,.12); }

/*
 * Mobile Drawer (off-canvas left)
 * Only visible on small screens (we rely on d-lg-none classes in markup)
 */
@media (max-width: 991.98px) {
    .mobile-drawer {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        width: 280px;
        transform: translateX(-100%);
        transition: transform .25s ease-out;
        background: linear-gradient(160deg, var(--card-grad-start), var(--card-grad-end));
        border-right: 1px solid rgba(255,255,255,.12);
        z-index: 1050; /* above navbar */
        color: var(--text-main);
        box-shadow: 4px 0 16px rgba(0,0,0,.4);
    }
    .mobile-drawer.open { transform: translateX(0); }
    .mobile-drawer .nav-link { padding: .6rem 1rem; }
    .mobile-drawer .nav-link:hover { background: rgba(255,255,255,.06); border-radius: 8px; }

    .mobile-drawer-header { border-bottom: 1px solid rgba(255,255,255,.12); background: rgba(0,0,0,.15); }
    .mobile-drawer-backdrop {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,.45);
        opacity: 0;
        pointer-events: none;
        transition: opacity .2s ease-in-out;
        z-index: 1040;
    }
    .mobile-drawer-backdrop.show { opacity: 1; pointer-events: auto; }

        /* Statistics: align chart buttons under title on mobile */
        .charts-header { flex-wrap: wrap; }
        .charts-title { width: 100%; margin-bottom: 2.25rem; }
        .charts-actions { width: 100%; display: flex; gap: .5rem; }
        .charts-actions .btn { flex: 1 1 auto; margin-right: 0 !important; }

        /* Navbar profile dropdown: overlay without expanding navbar */
        .navbar .navbar-nav { position: relative; }
        .navbar .navbar-nav .dropdown-menu {
            position: absolute !important;
            right: 0;
            left: auto;
            top: calc(100% + .25rem);
            float: none;
            z-index: 1100; /* above navbar */
        }
}
